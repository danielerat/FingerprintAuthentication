{% extends 'base.html' %} {% block content %} {% load my_filters %}
<section>
  <div class="flex flex-col text-center w-full my-12">
    <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900">
      Process Patients Being Treated
    </h1>
    <p class="lg:w-2/3 mx-auto leading-relaxed text-base">
       <!--Whatever cardigan tote bag tumblr hexagon brooklyn asymmetrical gentrify.-->
    </p>
  </div>
  <div class="flex justify-center">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y text-sm">
        <thead class="bg-gray-100">
          <tr>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Names
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Sex
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              ID
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Chief of the house
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Class
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Date
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Status
            </th>
            <th
              class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900"
            >
              Actions
            </th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-500">
          {%for p in processing %}
          <tr class="">
            <td class="whitespace-nowrap px-4 py-5 font-medium text-gray-900">
              {{p.patient.firstName}} {{p.patient.lastName}}
            </td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-700">Male</td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-700">
              {{p.patient.nationalId}}
            </td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-700">
              {{p.patient.chief.nationalId}}
            </td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-700">
              {{p.patient.chief.healthclass.Class|health_class}}
            </td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-700">
              {{p.patient.dob}}
            </td>
            <td class="whitespace-nowrap px-4 py-2 text-gray-900">
              <span class="bg-site-yellow-4 rounded-lg p-1">Pending</span>
            </td>
            <td class="whitespace-nowrap py-2 text-2xl rounded-lg">
              <div class="flex justify-around">
                <div class="text-site-yellow-1">
                  <a
                    href="{% url 'patients:delete_processing_patient' p.patient.id %}"
                  >
                    <i class="fa-solid fa-circle-xmark"></i>
                  </a>
                </div>
                <div class="text-site-green-1">
                  <a href="{% url 'patients:create_invoice' p.patient.id %}">
                    <i class="fa-solid fa-pills"></i>
                  </a>
                </div>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>

{% endblock %}
